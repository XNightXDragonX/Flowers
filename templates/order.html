<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Оформление заказа</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
    <h1>Оформить заказ</h1>

    <form id="order-form" action="{{ url_for('order') }}" method="post">
        <div id="orders-container">
            <div class="order">
                <label for="name1">Имя:</label><br>
                <input type="text" id="name1" name="name1" required><br>
                
                <label for="address1">Адрес:</label><br>
                <input type="text" id="address1" name="address1" required><br>
                
                <label for="flower_type1">Сорт цветов:</label><br>
                <input type="text" id="flower_type1" name="flower_type1" required><br>
                
                <label for="message1">Сообщение:</label><br>
                <textarea id="message1" name="message1" rows="4" cols="50"></textarea><br><br>
            </div>
        </div>
        
        <button type="button" id="add-order">Добавить заказ</button><br><br>
        <input type="hidden" id="order_count" name="order_count" value="1"> <!-- Скрытое поле для отправки количества заказов -->
        <input type="submit" value="Отправить все заказы">
    </form>

    <script>
        var orderCount = 1;

        $(document).ready(function() {
            $('#add-order').click(function() {
                orderCount++;
                var newOrder = `
                    <div class="order">
                        <label for="name${orderCount}">Имя:</label><br>
                        <input type="text" id="name${orderCount}" name="name${orderCount}" required><br>
                        
                        <label for="address${orderCount}">Адрес:</label><br>
                        <input type="text" id="address${orderCount}" name="address${orderCount}" required><br>
                        
                        <label for="flower_type${orderCount}">Сорт цветов:</label><br>
                        <input type="text" id="flower_type${orderCount}" name="flower_type${orderCount}" required><br>
                        
                        <label for="message${orderCount}">Сообщение:</label><br>
                        <textarea id="message${orderCount}" name="message${orderCount}" rows="4" cols="50"></textarea><br><br>
                    </div>
                `;
                $('#orders-container').append(newOrder);
                $('#order_count').val(orderCount);  // Обновляем значение скрытого поля
            });
        });
    </script>
</body>
</html>